# Документация генератора шаблонов для Go

## Описание

Этот проект содержит инструмент, который анализирует исходные файлы на Go и готовит Markdown‑шаблон для последующего заполнения документами или LLM. Шаблон включает сведения о структуре файла, глобальных объявлениях, взаимосвязях функций, а также о связях с другими пакетами проекта.

## Структура

- `generate_template.py` — CLI‑обёртка, принимающая путь к `.go` файлу и создающая шаблон.
- `go_template/parser.py` — утилиты для разбора исходников: поиск типов, констант, переменных, функций и импортов.
- `go_template/repository.py` — сбор индекса по всему модулю Go и построение графа вызовов.
- `go_template/template_renderer.py` — формирование Markdown‑шаблона.
- `go_template/generator.py` — координирует разбор файла, построение связей и запись результата.

## Требования

- Python 3.10+

## Использование

```bash
python3 generate_template.py path/to/file.go
```

По умолчанию шаблон располагается рядом с исходником и получает суффикс `.go.md`. Чтобы указать другой путь:

```bash
python3 generate_template.py path/to/file.go --out docs/file-doc.md
```

Чтобы увидеть диагностические сообщения (например, при проблемах с парсингом), можно включить логирование:

```bash
python3 generate_template.py --log-level DEBUG path/to/file.go
```

## Примечания

- При первом запуске для каждого файла выполняется сканирование всего Go-модуля, чтобы вычислить взаимосвязи между функциями. Повторные вызовы в рамках одного процесса можно ускорить кэшированием индекса.
- В `.gitignore` добавлен шаблон `*.go.md`, чтобы исключить сгенерированные шаблоны из индекса Git. Удалите правило, если хотите версионировать готовую документацию.
